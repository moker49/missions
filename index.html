<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Perk Tracker</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 1rem;
      background: #f0f0f0;
    }

    .player-header {
      text-align: center;
      margin-bottom: 1rem;
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(6, 1fr); /* 1 for row headers */
      gap: 4px;
    }

    .grid-header {
      background: #ccc;
      padding: 0.5rem;
      text-align: center;
      font-weight: bold;
      border-radius: 4px;
    }

    .grid-cell {
      background: white;
      padding: 0.25rem;
      min-height: 60px;
      text-align: center;
      border-radius: 6px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      cursor: pointer;
    }

    .perk-dots {
      display: flex;
      gap: 4px;
      margin-top: 4px;
    }

    .dot {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 1px solid #555;
      background: #fff;
    }

    .dot.filled {
      background: #4caf50;
      border-color: #4caf50;
    }
  </style>
</head>
<body>

  <div class="player-header">
    <h2>Player 1</h2>
    <div>Perk Points Used: <span id="perk-used">0</span> / <span id="perk-max">15</span></div>
  </div>

  <div class="grid-container" id="grid">
    <!-- Top-left corner -->
    <div></div>
    <!-- Column headers -->
    <div class="grid-header">1</div>
    <div class="grid-header">2</div>
    <div class="grid-header">3</div>
    <div class="grid-header">4</div>
    <div class="grid-header">5</div>

    <!-- Row: Type A -->
    <div class="grid-header">Type A</div>
    <div class="grid-cell" data-points="1"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="3"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="4"></div>

    <!-- Row: Type B -->
    <div class="grid-header">Type B</div>
    <div class="grid-cell" data-points="1"></div>
    <div class="grid-cell" data-points="1"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="3"></div>
    <div class="grid-cell" data-points="2"></div>

    <!-- Row: Type C -->
    <div class="grid-header">Type C</div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="3"></div>
    <div class="grid-cell" data-points="1"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="1"></div>

    <!-- Row: Type D -->
    <div class="grid-header">Type D</div>
    <div class="grid-cell" data-points="3"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="1"></div>
    <div class="grid-cell" data-points="4"></div>
    <div class="grid-cell" data-points="2"></div>

    <!-- Row: Type E -->
    <div class="grid-header">Type E</div>
    <div class="grid-cell" data-points="1"></div>
    <div class="grid-cell" data-points="3"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="2"></div>
    <div class="grid-cell" data-points="1"></div>
  </div>

  <script>
    const maxPerks = 15;
    let usedPerks = 0;

    function updatePerkCount() {
      document.getElementById("perk-used").textContent = usedPerks;
    }

    function createDots(cell, count) {
      const container = document.createElement("div");
      container.classList.add("perk-dots");

      const dots = [];

      for (let i = 0; i < count; i++) {
        const dot = document.createElement("div");
        dot.classList.add("dot");
        container.appendChild(dot);
        dots.push(dot);
      }

      cell.appendChild(container);

      let filledCount = 0;

      cell.addEventListener("click", () => {
        if (filledCount === count) {
          // Reset
          dots.forEach(dot => dot.classList.remove("filled"));
          usedPerks -= filledCount;
          filledCount = 0;
        } else {
          if (usedPerks >= maxPerks) {
            alert("Max perk points used!");
            return;
          }
          dots[filledCount].classList.add("filled");
          filledCount++;
          usedPerks++;
        }

        updatePerkCount();
      });
    }

    document.querySelectorAll(".grid-cell").forEach((cell) => {
      const count = parseInt(cell.dataset.points);
      createDots(cell, count);
    });

    updatePerkCount();
    document.getElementById("perk-max").textContent = maxPerks;
  </script>

</body>
</html>
